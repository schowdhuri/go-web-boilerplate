{{template "base.html" .}}
<!--  -->
{{define "title"}}{{.Title}}{{end}}
<!-- content  -->
{{define "content"}}

<div class="container mx-auto p-4">
  <h1 class="text-3xl font-bold mb-4">Passwordless Sign-in</h1>
  <form id="signin-form">
    <label for="email" class="block mb-2 font-medium text-gray-700"
      >Email Address</label
    >
    <input
      type="email"
      id="email"
      name="email"
      class="border border-gray-300 p-2 rounded"
      required
    />
    <button
      type="submit"
      class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mt-4"
    >
      Sign In
    </button>
  </form>
  <p id="message" class="mt-4"></p>
</div>
<script>
  const form = document.getElementById("signin-form");
  const message = document.getElementById("message");

  form.addEventListener("submit", async (e) => {
    e.preventDefault();
    const email = document.getElementById("email").value;

    // Send a POST request to your backend API to send the sign-in link
    const response = await fetch("/api/send-signin-link", {
      method: "POST",
      body: JSON.stringify({ email }),
      headers: {
        "Content-Type": "application/json",
      },
    });

    if (response.ok) {
      message.textContent = "Sign-in link sent to your email.";
    } else {
      message.textContent = "Error sending sign-in link. Please try again.";
    }
  });
</script>
{{end}}
